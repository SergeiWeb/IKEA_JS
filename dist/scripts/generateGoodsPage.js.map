{"version":3,"sources":["../node_modules/process/browser.js","scripts/getData.js","scripts/storage.js","scripts/userData.js","scripts/generateGoodsPage.js"],"names":["cachedSetTimeout","cachedClearTimeout","process","module","exports","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","setTimeout","e","call","runClearTimeout","marker","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","length","concat","drainQueue","timeout","len","run","Item","array","noop","nextTick","args","Array","arguments","i","push","prototype","apply","title","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","getData","PARAM","cat","subcat","search","url","get","fetch","then","res","json","catch","console","error","wishList","list","callback","data","result","filter","item","includes","id","value","find","cart","some","obj","category","prop","toLowerCase","hasOwnProperty","catalog","reduce","arr","subCatalog","subcategory","getLocalStorage","key","localStorage","getItem","JSON","parse","setLocalStorage","setItem","stringify","userData","wishListData","index","indexOf","splice","cartListData","cartList","count","changeCountCartList","itemCart","deleteItemCart","forEach","generateGoodsPage","COUNTER","mainHeader","document","querySelector","generateCards","goodsList","textContent","image","img","description","price","insertAdjacentHTML","addEventListener","event","btnAddCard","target","closest","preventDefault","dataset","idd","log","location","pathname","decodeURI","split","substring"],"mappings":"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","file":"generateGoodsPage.js","sourceRoot":"..\\src","sourcesContent":["// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","const PARAM = {\r\n\tcat: 'category',\r\n\tsubcat: 'subcategory',\r\n\tsearch: ['name', 'description', 'category', 'subcategory'],\r\n}\r\n\r\nexport const getData = {\r\n\turl: 'database/dataBase.json',\r\n\tget(process) {\r\n\t\tfetch(this.url)\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(process)\r\n\t\t\t.catch(e => console.error(e))\r\n\t},\r\n\twishList(list, callback) {\r\n\t\tthis.get(data => {\r\n\t\t\tconst result = data.filter(item => list.includes(item.id))\r\n\r\n\t\t\tcallback(result)\r\n\t\t})\r\n\t},\r\n\titem(value, callback) {\r\n\t\tthis.get(data => {\r\n\t\t\tconst result = data.find(item => item.id === value)\r\n\t\t\tcallback(result)\r\n\t\t})\r\n\t},\r\n\tcart(list, callback) {\r\n\t\tthis.get(data => {\r\n\t\t\tconst result = data.filter(item => list.some(obj => obj.id === item.id))\r\n\t\t\tcallback(result)\r\n\t\t})\r\n\t},\r\n\tcategory(prop, value, callback) {\r\n\t\tthis.get(data => {\r\n\t\t\tconst result = data.filter(\r\n\t\t\t\titem => item[PARAM[prop]].toLowerCase() === value.toLowerCase()\r\n\t\t\t)\r\n\t\t\tcallback(result)\r\n\t\t})\r\n\t},\r\n\tsearch(value, callback) {\r\n\t\tthis.get(data => {\r\n\t\t\tconst result = data.filter(item => {\r\n\t\t\t\tfor (const prop in item) {\r\n\t\t\t\t\tif (item.hasOwnProperty(prop)) {\r\n\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\tPARAM.search.includes(prop) &&\r\n\t\t\t\t\t\t\titem[prop].toLowerCase().includes(value.toLowerCase())\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\treturn true\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tcallback(result)\r\n\t\t})\r\n\t},\r\n\tcatalog(callback) {\r\n\t\tthis.get(data => {\r\n\t\t\tconst result = data.reduce((arr, item) => {\r\n\t\t\t\tif (!arr.includes(item.category)) {\r\n\t\t\t\t\tarr.push(item.category)\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn arr\r\n\t\t\t}, [])\r\n\r\n\t\t\tcallback(result)\r\n\t\t})\r\n\t},\r\n\tsubCatalog(value, callback) {\r\n\t\tthis.get(data => {\r\n\t\t\tconst result = data.reduce((arr, item) => {\r\n\t\t\t\tif (!arr.includes(item.subcategory) && item.category === value) {\r\n\t\t\t\t\tarr.push(item.subcategory)\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn arr\r\n\t\t\t}, [])\r\n\r\n\t\t\tcallback(result)\r\n\t\t})\r\n\t},\r\n}\r\n\r\nexport default getData\r\n","export const getLocalStorage = key => {\r\n\treturn localStorage.getItem(key) ? JSON.parse(localStorage.getItem(key)) : []\r\n}\r\n\r\nexport const setLocalStorage = (key, value) => {\r\n\tlocalStorage.setItem(key, JSON.stringify(value))\r\n}\r\n","import { getLocalStorage, setLocalStorage } from './storage.js'\r\n\r\nconst userData = {\r\n\twishListData: getLocalStorage('wishList'),\r\n\tget wishList() {\r\n\t\treturn this.wishListData\r\n\t},\r\n\r\n\tset wishList(id) {\r\n\t\tif (this.wishListData.includes(id)) {\r\n\t\t\tconst index = this.wishListData.indexOf(id)\r\n\t\t\tthis.wishListData.splice(index, 1)\r\n\t\t} else {\r\n\t\t\tthis.wishListData.push(id)\r\n\t\t}\r\n\t\tsetLocalStorage('wishList', this.wishList)\r\n\t},\r\n\r\n\tcartListData: getLocalStorage('cartList'),\r\n\r\n\tget cartList() {\r\n\t\treturn this.cartListData\r\n\t},\r\n\tset cartList(id) {\r\n\t\tlet obj = this.cartListData.find(item => item.id === id)\r\n\t\tif (obj) {\r\n\t\t\tobj.count++\r\n\t\t} else {\r\n\t\t\tobj = { id, count: 1 }\r\n\t\t\tthis.cartListData.push(obj)\r\n\t\t}\r\n\t\tsetLocalStorage('cartList', this.cartList)\r\n\t},\r\n\r\n\t/**\r\n\t * @param {{ id: any; count: number; }} itemCart\r\n\t */\r\n\tset changeCountCartList(itemCart) {\r\n\t\tlet obj = this.cartListData.find(item => item.id === itemCart.id)\r\n\t\tobj.count = itemCart.count\r\n\r\n\t\tsetLocalStorage('cartList', this.cartList)\r\n\t},\r\n\r\n\t/**\r\n\t * @param {any} id\r\n\t */\r\n\tset deleteItemCart(id) {\r\n\t\tlet index = -1\r\n\t\tthis.cartList.forEach((item, i) => {\r\n\t\t\tif (item.id === id) {\r\n\t\t\t\tindex = i\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tthis.cartList.splice(index, 1)\r\n\r\n\t\tsetLocalStorage('cartList', this.cartList)\r\n\t},\r\n}\r\n\r\nexport default userData\r\n","import { getData } from './getData.js'\r\nimport userData from './userData.js'\r\n\r\nconst COUNTER = 6\r\n\r\nconst generateGoodsPage = () => {\r\n\tconst mainHeader = document.querySelector('.main-header')\r\n\r\n\tconst generateCards = data => {\r\n\t\tconst goodsList = document.querySelector('.goods-list')\r\n\r\n\t\tgoodsList.textContent = ''\r\n\t\tif (!data.length) {\r\n\t\t\tconst goods = document.querySelector('.goods')\r\n\t\t\tgoods.textContent =\r\n\t\t\t\tlocation.search === `?wishlis`\r\n\t\t\t\t\t? `Wishlist is empty`\r\n\t\t\t\t\t: `By your request nothing found`\r\n\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tdata.forEach(item => {\r\n\t\t\tconst { name, img: image, description, price, id, count } = item\r\n\r\n\t\t\tgoodsList.insertAdjacentHTML(\r\n\t\t\t\t'afterbegin',\r\n\t\t\t\t`\r\n\t\t\t\t\t<li class=\"goods-list__item\">\r\n\t\t\t\t\t\t<a class=\"goods-item__link\" href=\"card.html#${id}\">\r\n\t\t\t\t\t\t\t<article class=\"goods-item\">\r\n\t\t\t\t\t\t\t\t<div class=\"goods-item__img\">\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tsrc=\"${image[0]}\"\r\n\t\t\t\t\t\t\t\t\t\t${image[1] ? `data-second-image=${image[1]}` : ''}\r\n\t\t\t\t\t\t\t\t\t\talt=\"${name}\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t${count >= COUNTER ? '<p class=\"goods-item__new\">Новинка</p>' : ''}\r\n\t\t\t\t\t\t\t\t${!count ? '<p class=\"goods-item__new\">Нет в наличии</p>' : ''}\r\n\t\t\t\t\t\t\t\t<h3 class=\"goods-item__header\">${name}</h3>\r\n\t\t\t\t\t\t\t\t<p class=\"goods-item__description\">\r\n\t\t\t\t\t\t\t\t\t${description}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p class=\"goods-item__price\">\r\n\t\t\t\t\t\t\t\t\t<span class=\"goods-item__price-value\">${price}</span>\r\n\t\t\t\t\t\t\t\t\t<span class=\"goods-item__currency\">$</span>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t${\r\n\t\t\t\t\t\t\t\t\tcount\r\n\t\t\t\t\t\t\t\t\t\t? `<button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"btn btn-add-card\"\r\n\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"Добравить в корзину\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tdata-idd=\"${id}\"></button>`\r\n\t\t\t\t\t\t\t\t\t\t: ''\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</article>\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t`\r\n\t\t\t)\r\n\t\t})\r\n\r\n\t\tgoodsList.addEventListener('click', event => {\r\n\t\t\tconst btnAddCard = event.target.closest('.btn-add-card')\r\n\r\n\t\t\tif (btnAddCard) {\r\n\t\t\t\tevent.preventDefault()\r\n\t\t\t\tuserData.cartList = btnAddCard.dataset.idd\r\n\t\t\t\tconsole.log(userData.cartList)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tif (location.pathname.includes('goods') && location.search) {\r\n\t\tconst search = decodeURI(location.search)\r\n\t\tconst prop = search.split('=')[0].substring(1)\r\n\t\tconst value = search.split('=')[1]\r\n\r\n\t\tif (prop === 's') {\r\n\t\t\tgetData.search(value, generateCards)\r\n\t\t\tmainHeader.textContent = `Searh: ${value}`\r\n\t\t} else if (prop === 'wishlist') {\r\n\t\t\tgetData.wishList(userData.wishList, generateCards)\r\n\t\t\tmainHeader.textContent = `Wishlist`\r\n\t\t} else if (prop === 'cat' || prop === 'subcat') {\r\n\t\t\tgetData.category(prop, value, generateCards)\r\n\t\t\tmainHeader.textContent = value\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default generateGoodsPage\r\n"]}