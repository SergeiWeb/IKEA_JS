{"version":3,"sources":["scripts/generateSubCatalog.js","../node_modules/process/browser.js","scripts/getData.js","scripts/catalog.js"],"names":["generateSubCatalog","subCatalog","document","createElement","classList","add","updateHTML","body","insertAdjacentElement","header","list","textContent","listHTML","forEach","item","subCatalogHTML","insertAdjacentHTML","cachedSetTimeout","cachedClearTimeout","process","module","exports","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","setTimeout","e","call","runClearTimeout","marker","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","length","concat","drainQueue","timeout","len","run","Item","array","noop","nextTick","args","Array","arguments","i","push","prototype","apply","title","env","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","cwd","chdir","dir","umask","getData","PARAM","cat","subcat","search","url","get","fetch","then","res","json","catch","console","error","wishList","callback","data","result","filter","includes","id","value","find","cart","some","obj","category","prop","toLowerCase","hasOwnProperty","catalog","reduce","arr","subcategory","updateSubCatalog","btnBurger","querySelector","overlay","append","openMenu","closeMenu","closeSubMenu","remove","style","overflow","addEventListener","event","preventDefault","target","closest","code"],"mappings":"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","file":"catalog.js","sourceRoot":"..\\src","sourcesContent":["const generateSubCatalog = () => {\r\n\tconst subCatalog = document.createElement('div')\r\n\tsubCatalog.classList.add('subcatalog')\r\n\r\n\tconst updateHTML = (header, list) => {\r\n\t\tsubCatalog.textContent = ''\r\n\t\tlet listHTML = ''\r\n\r\n\t\tlist.forEach(item => {\r\n\t\t\tlistHTML += `\r\n\t\t\t\t<li class=\"subcatalog-list__item\">\r\n\t\t\t\t\t<a href=\"goods.html?subcat=${item}\">${item}</a>\r\n\t\t\t\t</li>\r\n\t\t\t`\r\n\t\t})\r\n\r\n\t\tconst subCatalogHTML = `\r\n\t\t\t<button\r\n\t\t\t\ttype=\"button\"\r\n\t\t\t\tclass=\"btn btn-return catalog-btn\"\r\n\t\t\t\taria-expanded=\"true\"\r\n\t\t\t\ttitle=\"Закрыть меню\"\r\n\t\t\t\taria-label=\"Закрыть меню\"\r\n\t\t\t>\r\n\t\t\t\t<svg\r\n\t\t\t\t\tfocusable=\"false\"\r\n\t\t\t\t\tclass=\"svg-icon hnf-svg-icon\"\r\n\t\t\t\t\twidth=\"24\"\r\n\t\t\t\t\theight=\"24\"\r\n\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\tfill=\"none\"\r\n\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<path\r\n\t\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\t\tclip-rule=\"evenodd\"\r\n\t\t\t\t\t\td=\"M4.70613 11.2927L3.99902 11.9997L4.70606 12.7069L11.999 20.0008L13.4133 18.5867L7.82744 13.0001H19.9999V11.0001H7.82729L13.4144 5.41328L12.0002 3.99902L4.70613 11.2927Z\"\r\n\t\t\t\t\t></path>\r\n\t\t\t\t</svg>\r\n\t\t\t</button>\r\n\t\t\t<h3 class=\"subcatalog-header\"><a href=\"goods.html?cat=${header}\">${header}</a></h3>\r\n\t\t\t<ul class=\"subcatalog-list\">\r\n\t\t\t\t${listHTML}\r\n\t\t\t</ul>\r\n\t\t`\r\n\t\tsubCatalog.insertAdjacentHTML('afterbegin', subCatalogHTML)\r\n\t}\r\n\r\n\tdocument.body.insertAdjacentElement('beforeend', subCatalog)\r\n\r\n\treturn updateHTML\r\n}\r\n\r\nexport default generateSubCatalog\r\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","const PARAM = {\r\n\tcat: 'category',\r\n\tsubcat: 'subcategory',\r\n\tsearch: ['name', 'description', 'category', 'subcategory'],\r\n}\r\n\r\nexport const getData = {\r\n\turl: 'database/dataBase.json',\r\n\tget(process) {\r\n\t\tfetch(this.url)\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(process)\r\n\t\t\t.catch(e => console.error(e))\r\n\t},\r\n\twishList(list, callback) {\r\n\t\tthis.get(data => {\r\n\t\t\tconst result = data.filter(item => list.includes(item.id))\r\n\r\n\t\t\tcallback(result)\r\n\t\t})\r\n\t},\r\n\titem(value, callback) {\r\n\t\tthis.get(data => {\r\n\t\t\tconst result = data.find(item => item.id === value)\r\n\t\t\tcallback(result)\r\n\t\t})\r\n\t},\r\n\tcart(list, callback) {\r\n\t\tthis.get(data => {\r\n\t\t\tconst result = data.filter(item => list.some(obj => obj.id === item.id))\r\n\t\t\tcallback(result)\r\n\t\t})\r\n\t},\r\n\tcategory(prop, value, callback) {\r\n\t\tthis.get(data => {\r\n\t\t\tconst result = data.filter(\r\n\t\t\t\titem => item[PARAM[prop]].toLowerCase() === value.toLowerCase()\r\n\t\t\t)\r\n\t\t\tcallback(result)\r\n\t\t})\r\n\t},\r\n\tsearch(value, callback) {\r\n\t\tthis.get(data => {\r\n\t\t\tconst result = data.filter(item => {\r\n\t\t\t\tfor (const prop in item) {\r\n\t\t\t\t\tif (item.hasOwnProperty(prop)) {\r\n\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\tPARAM.search.includes(prop) &&\r\n\t\t\t\t\t\t\titem[prop].toLowerCase().includes(value.toLowerCase())\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\treturn true\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tcallback(result)\r\n\t\t})\r\n\t},\r\n\tcatalog(callback) {\r\n\t\tthis.get(data => {\r\n\t\t\tconst result = data.reduce((arr, item) => {\r\n\t\t\t\tif (!arr.includes(item.category)) {\r\n\t\t\t\t\tarr.push(item.category)\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn arr\r\n\t\t\t}, [])\r\n\r\n\t\t\tcallback(result)\r\n\t\t})\r\n\t},\r\n\tsubCatalog(value, callback) {\r\n\t\tthis.get(data => {\r\n\t\t\tconst result = data.reduce((arr, item) => {\r\n\t\t\t\tif (!arr.includes(item.subcategory) && item.category === value) {\r\n\t\t\t\t\tarr.push(item.subcategory)\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn arr\r\n\t\t\t}, [])\r\n\r\n\t\t\tcallback(result)\r\n\t\t})\r\n\t},\r\n}\r\n\r\nexport default getData\r\n","import generateSubCatalog from './generateSubCatalog.js'\r\nimport { getData } from './getData.js'\r\n\r\nexport const catalog = () => {\r\n\tconst updateSubCatalog = generateSubCatalog()\r\n\tconst btnBurger = document.querySelector('.btn-burger')\r\n\tconst catalog = document.querySelector('.catalog')\r\n\tconst subCatalog = document.querySelector('.subcatalog')\r\n\r\n\tconst overlay = document.createElement('div')\r\n\toverlay.classList.add('overlay')\r\n\tdocument.body.append(overlay)\r\n\r\n\tconst openMenu = () => {\r\n\t\tcatalog.classList.add('open')\r\n\t\toverlay.classList.add('active')\r\n\t\tdocument.body.style.overflow = 'hidden'\r\n\t}\r\n\tconst closeMenu = () => {\r\n\t\tcloseSubMenu()\r\n\t\tcatalog.classList.remove('open')\r\n\t\toverlay.classList.remove('active')\r\n\t\tdocument.body.style.overflow = ''\r\n\t}\r\n\r\n\tconst handlerCatalog = event => {\r\n\t\tevent.preventDefault()\r\n\t\tconst target = event.target\r\n\t\tconst itemList = target.closest('.catalog-list__item')\r\n\r\n\t\tif (itemList) {\r\n\t\t\tgetData.subCatalog(target.textContent, data => {\r\n\t\t\t\tupdateSubCatalog(target.textContent, data)\r\n\t\t\t\tsubCatalog.classList.add('subopen')\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tif (target.closest('.btn-close')) {\r\n\t\t\tcloseMenu()\r\n\t\t}\r\n\t}\r\n\r\n\tconst closeSubMenu = () => {\r\n\t\tsubCatalog.classList.remove('subopen')\r\n\t}\r\n\r\n\tbtnBurger.addEventListener('click', openMenu)\r\n\toverlay.addEventListener('click', closeMenu)\r\n\tcatalog.addEventListener('click', handlerCatalog)\r\n\tsubCatalog.addEventListener('click', event => {\r\n\t\tconst btnRetrn = event.target.closest('.btn-return')\r\n\r\n\t\tif (btnBurger) closeSubMenu()\r\n\t})\r\n\r\n\tdocument.addEventListener('keydown', event => {\r\n\t\tevent.code === 'Escape' ? closeMenu() : null\r\n\t})\r\n}\r\n"]}